define(["require","exports","preact/jsx-runtime","preact/compat","preact/hooks","../../components/badgeNotification/BadgeNotification","../../components/nodeTypes/rendererNodeTypes/RendererNodeTypes","../../components/table/Table","../../components/plotlyContainer/PlotlyContainer","../../components/deferCollapsible/DeferCollapsible","../../utils/common","../../components/copyButton/CopyButton"],(function(require,e,n,t,o,s,l,r,a,i,d,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=(0,t.memo)((({detectedProblemId:e,detectedProblemDetailsData:t})=>{const c=(0,o.useMemo)((()=>{if(!t)return"Problem details not found.";const e=(0,d.nodeTypesToString)(t.problem)||"N/A",n=t.reason?(0,d.nodeTypesToString)(t.reason):"N/A",o=t.cause&&(0,d.nodeTypesToString)(t.cause)||"N/A";let s=[];t.evidences&&(s=t.evidences.map((e=>`- ${(0,d.nodeTypesToString)(e.shortDescription)||"N/A"}`)));const l=t.config?(0,d.nodeTypesToString)(t.config):"N/A";let r=t.resolutionSteps?(0,d.nodeTypesToString)(t.resolutionSteps,"\n"):"N/A";return`\nProblem\n===========\n${e}\n\nReason\n======\n${n}\n\nCause\n=====\n${o}\n\nEvidence Collected\n==================\n${s.join("\n")}\n\nConfiguration Detail\n====================\n${l}\n\nResolution Steps\n================\n${r}`}),[t]);return e&&t?(0,n.jsxs)("section",{children:[(0,n.jsxs)("div",{class:"detectedProblemDetails__title",children:[(0,n.jsx)("h3",{class:"oj-typography-subheading-sm",children:"Problem"}),(0,n.jsx)(p.default,{class:"detectedProblemDetails__copySection-btn",textToCopy:c})]}),(0,n.jsx)("p",{children:(0,n.jsx)(l.default,{node:{type:"paragraph",content:t.problem},tabIndex:0})}),(0,n.jsx)("h3",{class:"oj-typography-subheading-sm",children:"Reason"}),(0,n.jsx)("p",{children:(0,n.jsx)(l.default,{node:{type:"paragraph",content:t.reason},tabIndex:0})}),(0,n.jsx)("h3",{class:"oj-typography-subheading-sm",children:"Cause"}),(0,n.jsx)("p",{children:(0,n.jsx)(l.default,{node:{type:"paragraph",content:t.cause},tabIndex:0})}),(0,n.jsx)("h3",{class:"oj-typography-subheading-sm",children:"Evidence"}),t.evidences.map(((t,o)=>{var s,p,c,h,u;return t.expandable?(0,n.jsx)(i.default,{class:"detectedProblemDetails__evidence",header:(0,n.jsx)("span",{children:(0,n.jsx)(l.default,{node:{type:"paragraph",content:t.shortDescription},tabIndex:-1})}),children:(0,n.jsxs)("div",{children:[(null===(p=null===(s=null==t?void 0:t.report)||void 0===s?void 0:s.description)||void 0===p?void 0:p.length)>0&&(0,n.jsx)("span",{class:"oj-sm-margin-3x-start",children:(0,n.jsx)(l.default,{node:{type:"paragraph",content:t.report.description}})}),(null===(h=null===(c=null==t?void 0:t.report)||void 0===c?void 0:c.tables)||void 0===h?void 0:h.length)>0&&(0,n.jsx)("ul",{children:null==t?void 0:t.report.tables.map((e=>e.description?(0,n.jsx)("li",{children:(0,n.jsx)("a",{onClick:()=>(0,d.scrollToElement)(e.id),children:e.description})},e.id):null))}),t.report.plot&&t.report.plot.available&&(0,n.jsx)("section",{children:(0,n.jsx)(a.default,{plotPath:t.report.plot.report,height:t.report.plot.height})}),(null===(u=t.report.tables)||void 0===u?void 0:u.length)>0&&t.report.tables.map((e=>(0,n.jsxs)("section",{class:"oj-sm-margin-3x-bottom",id:e.id,children:[(0,n.jsx)("p",{children:e.description}),(0,n.jsx)(r.default,{dataArray:e.table.records,id:e.table.id,columns:e.table.columns,"aria-label":`${e.description} table`,class:"oj-sm-width-full"})]})))]})},o+e):(0,n.jsx)("p",{class:"detectedProblemDetails__evidence detectedProblemDetails__evidence-paragraph",children:(0,n.jsx)(l.default,{node:{type:"paragraph",content:t.shortDescription}})},o+e)})),(0,n.jsx)("h3",{class:"oj-typography-subheading-sm",children:"Configuration Detail"}),(0,n.jsx)(l.default,{node:{type:"paragraphs",content:t.config},tabIndex:0}),(0,n.jsx)("h3",{class:"oj-typography-subheading-sm",children:"Resolution Steps"}),(0,n.jsx)("div",{class:"rendererNodeTypes-list__element",children:t.resolutionSteps.map(((e,t)=>(0,n.jsx)(l.default,{node:e,tabIndex:0},t)))})]}):(0,n.jsx)("section",{children:(0,n.jsx)(s.default,{text:"Problem's details are unavailable",status:"danger"})})}))}));