define(["require","exports","preact/jsx-runtime","preact/hooks","ojs/ojkeyset","../../components/plotlyContainer/PlotlyContainer","../../components/badgeNotification/BadgeNotification","../../components/table/Table","./tableRowRenderers/HostProblemsSummaryRowRenderer"],(function(require,e,t,a,s,l,o,r,n){"use strict";function d(e,t,a=[]){for(const s of e){let e=[...a,s.id];if(s.id===t)return e;if(s.children){const a=d(s.children,t,e);if(a)return a}}}Object.defineProperty(e,"__esModule",{value:!0});e.default=({data:e,currentSelection:i,setKeysToExpand:c,setTreeMenuSelection:m})=>{var u,b;const y=(0,a.useMemo)((()=>{var e;return i&&(null===(e=null==i?void 0:i.keys)||void 0===e?void 0:e.keys)&&0!==i.keys.keys.size?i.keys.keys.values().next().value:""}),[i]);return(0,t.jsx)("section",{children:(null===(u=e.context)||void 0===u?void 0:u.plots[y])?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.default,{onClick:t=>{const a=t.points[0],l=t.points[0].customdata,o=t.points[0].data.legendgroup;if(console.log(t.points[0].data.legendgroup),void 0===o||o.length<=3)return;if(a&&!((null==l?void 0:l.length)>0))return;console.log(l[0]);const r=d(e.context.treeMenu,String(l[0]));console.log(r),r&&(c((e=>new s.KeySetImpl([...e.values(),...r]))),m(new s.KeySetImpl([String(l[0])])))},plotPath:e.context.plots[y].plot.report}),"summary"===y.toLowerCase()?(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{class:"oj-typography-subheading-md",children:"Host Problems Summary"}),(0,t.jsx)(r.default,{rowExpander:!0,"aria-label":"DB Metric Summary Host Problems",class:"oj-sm-width-full",id:e.context.tables.summary.host_summary.table.id,dataArray:e.context.tables.summary.host_summary.table.records,columns:e.context.tables.summary.host_summary.table.columns,children:(0,t.jsx)("template",{slot:"rowTemplate",render:n.default})}),(0,t.jsx)("h2",{class:"oj-typography-subheading-md",children:"Instance Problems Summary"}),(0,t.jsx)(r.default,{class:"oj-sm-width-full",id:e.context.tables.summary.database_summary.table.id,dataArray:e.context.tables.summary.database_summary.table.records,columns:e.context.tables.summary.database_summary.table.columns,"aria-label":'"DB Metrics Summary Database Problems',rowExpander:!0,children:(0,t.jsx)("template",{slot:"rowTemplate",render:n.default})})]}):(0,t.jsx)("div",{children:e.context.tables[y]&&(null===(b=e.context.tables[y])||void 0===b?void 0:b.table)?(0,t.jsx)(r.default,{id:e.context.tables[y].table.id,dataArray:e.context.tables[y].table.records,columns:e.context.tables[y].table.columns,class:"oj-sm-width-full"}):(0,t.jsx)(o.default,{text:"No Data Available"})})]}):(0,t.jsx)(o.default,{text:"Plot Unavailable for the selected item"})})}}));