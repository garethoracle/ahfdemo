define(["require","exports","preact/jsx-runtime","preact","preact/hooks","preact/compat","../../../../components/badgeNotification/BadgeNotification","ojs/ojarraydataprovider","./OsMetricsSingleChart","../OsMetricsTabBarRenderer"],(function(require,t,e,i,o,l,n,s,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(0,l.memo)((({sectionData:t,filters:l,setSubsectionFilter:u,onRelayoutPlotHandler:c,noClusterWideFilterFunction:d,clusterWideFilterFunction:v})=>{const m=(0,o.useMemo)((()=>{const e="multiChart"===t.context.layout?t.context.multiChart.chartList.map((t=>({id:t.sectionId,status:t.status,name:t.sectionTitle}))):[];return new s(e,{keyAttributes:"id"})}),[t]),h=(0,o.useMemo)((()=>{var e,i,o,n;if("multiChart"!==t.context.layout||!(null===(i=null===(e=null==t?void 0:t.context)||void 0===e?void 0:e.multiChart)||void 0===i?void 0:i.chartList))return null;if(l.sectionFilters){const e=t.context.multiChart.chartList.find((e=>{var i,o;return e.sectionId===(null===(o=null===(i=null==l?void 0:l.sectionFilters)||void 0===i?void 0:i[t.sectionId])||void 0===o?void 0:o.tabSelected)}));if(e)return e}return null===(n=null===(o=null==t?void 0:t.context)||void 0===o?void 0:o.multiChart)||void 0===n?void 0:n.chartList[0]}),[l.sectionFilters,t]),p=(0,o.useMemo)((()=>h?{sectionId:h.sectionId,sectionTitle:h.sectionTitle,status:h.status,clusterwide:h.clusterwide,nodes:!1===h.clusterwide?h.nodes:void 0,context:{layout:"singleChart",plot:!1!==h.clusterwide?h.plot:void 0,plots:!1===h.clusterwide?h.plots:void 0}}:null),[h]);if("multiChart"!==t.context.layout)throw Error("Wrong layout type");return(0,e.jsxs)(i.Fragment,{children:[(0,e.jsx)("oj-tab-bar",{edge:"top",selection:null==h?void 0:h.sectionId,class:"oj-sm-margin-2x-bottom",onselectionChanged:e=>{const i=e.detail.value;i&&u(t.sectionId,"tabSelected",i)},data:m,children:(0,e.jsx)("template",{slot:"itemTemplate",render:a.default})}),p?(0,e.jsx)(r.default,{sectionData:p,filters:l,setSubsectionFilter:u,onRelayoutPlotHandler:c,noClusterWideFilterFunction:d,clusterWideFilterFunction:v}):(0,e.jsx)(n.default,{text:"Section Unavailable",status:"info"})]})}))}));