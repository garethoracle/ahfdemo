define(["require","exports","preact/jsx-runtime","preact","preact/hooks","../../../../../components/table/Table","../../../../../components/openDetailsButton/OpenDetailsButton","../../../../../utils/common","../../../../../hooks/useDynamicFilters","../../../../../components/InputWrapperDataProvider/SelectManyWrapper","ojs/ojselectsingle","ojs/ojdatetimepicker"],(function(require,e,t,a,l,i,s,n,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=({columns:e,filters:d,records:m,onOpenDetailsDrawer:c,drawerDetailsData:u})=>{const p=(0,l.useMemo)((()=>({min:m.length>0?n.dateTimeConverter.parse(m[0].timestamp):null,max:m.length>0?n.dateTimeConverter.parse(m[m.length-1].timestamp):null})),[m]),{filters:f,dispatchFilters:v,applyFilterToTable:j}=(0,r.default)({startDate:p.min,endDate:p.max}),D=(e,t)=>{const a=e.detail.value;v({type:r.FilterActions.SET_DYNAMIC_FILTER_FIELD,payload:{fieldName:t,value:a}})},_=(0,l.useCallback)((e=>(0,t.jsx)(s.default,{onojAction:()=>{c(null==u?void 0:u[e.data])}})),[c]);return(0,t.jsxs)(a.Fragment,{children:[(0,t.jsxs)("div",{class:"osReportDetailsTable__filters oj-sm-margin-2x-bottom",children:[(0,t.jsxs)("div",{class:"osReportDetailsTable__filters-time",children:[(0,t.jsx)("oj-input-date-time",{class:"timeline__filters-date_picker",min:p.min,max:p.max,value:f.startDate,converter:n.dateTimeConverter,labelHint:"Start Time",autocomplete:"off",onvalueChanged:e=>D(e,"startDate")}),(0,t.jsx)("oj-input-date-time",{class:"timeline__filters-date_picker",min:p.min,max:p.max,value:f.endDate,converter:n.dateTimeConverter,labelHint:"End Time",autocomplete:"off",onvalueChanged:e=>D(e,"endDate")})]}),(0,t.jsx)("div",{class:"osReportDetailsTable__filters-dynamic",children:null==d?void 0:d.map((e=>(0,t.jsx)(o.default,{class:"timeline__filters-comboBox-many",labelHint:e.inputLabel,labelEdge:"inside",dataArray:e.data,"aria-label":e.inputLabel,arrayDataProviderOptions:{keyAttributes:"value"},value:f[e.field],onvalueChanged:t=>D(t,e.field)})))})]}),(0,t.jsx)(i.default,{dataArray:m,columns:e,filterFunction:j,scrollPolicy:"loadMoreOnScroll",class:"oj-sm-width-full osReportCollapsibleDetails__table",children:(0,t.jsx)("template",{slot:"detailsButton",render:_})})]})}}));