define(["require","exports","preact/jsx-runtime","preact/compat","preact/hooks","../../../../../components/deferCollapsible/DeferOldCollapsible","ojs/ojarraydataprovider","../../../../../router/SubRoute","./OsIssuesReportCollapsibleContent"],(function(require,e,s,n,t,o,i,d,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=e=>(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:(0,s.jsx)("span",{children:e.data.label})})});e.default=(0,n.memo)((({reportData:e,getColor:n,hostSelected:r,onChangeHostSelectedHandler:h,onExpandedChangeHandler:c,expanded:p,onOpenDetailsDrawer:u})=>{var j,g,b,x;const v=(0,t.useMemo)((()=>{if(!e.hostsWithFindings)return new i([]);const s=e.hostsWithFindings.map((e=>({label:e,id:e})));return new i(s,{keyAttributes:"id"})}),[e]),m=null!=r?r:e.hostsWithFindings?e.hostsWithFindings[0]:"";return(0,s.jsx)(o.default,{expanded:p,onexpandedChanged:s=>c(s,e.id),header:(0,s.jsxs)("div",{class:"osIssuesReport__shortDescription__container",id:e.id,children:[(0,s.jsx)("span",{class:"oj-badge oj-badge-subtle oj-sm-margin-2x-end",style:n(null!==(j=e.area)&&void 0!==j?j:""),children:e.area}),(0,s.jsx)("span",{children:e.shortDescription}),(0,s.jsxs)("div",{class:"osIssuesReport__shortDescription-nodes",children:[e.hostsWithFindings&&(null===(g=e.hostsWithFindings)||void 0===g?void 0:g.length)<=3&&(null===(b=null==e?void 0:e.hostsWithFindings)||void 0===b?void 0:b.slice(0,3).map((e=>(0,s.jsx)("span",{class:"oj-badge oj-badge-subtle",style:n(e),children:e},e)))),(null==e?void 0:e.hostsWithFindings)&&(null===(x=null==e?void 0:e.hostsWithFindings)||void 0===x?void 0:x.length)>3&&(0,s.jsx)("span",{class:"oj-badge oj-badge-info oj-badge-subtle",children:"3+ Nodes"})]})]}),children:(0,s.jsxs)("div",{children:[e.hostsWithFindings&&e.hostsWithFindings.length>3&&(0,s.jsx)("div",{class:"osIssuesReport__nodes",children:e.hostsWithFindings.map((e=>(0,s.jsx)("span",{class:"oj-badge oj-badge-subtle",style:n(e),children:e},e)))}),(0,s.jsx)("oj-conveyor-belt",{children:(0,s.jsx)("oj-tab-bar",{edge:"top",class:"oj-sm-margin-4x-bottom oj-sm-condense",selection:m,onselectionChanged:s=>h(e.id,s.detail.value),data:v,children:(0,s.jsx)("template",{slot:"itemTemplate",render:a})})}),e.report&&Object.keys(e.report).map((n=>{var t;return void 0!==(null===(t=null==e?void 0:e.report)||void 0===t?void 0:t[n])&&(0,s.jsx)(d.default,{currentPath:null!=m?m:"",path:n,unmountElement:!1,element:(0,s.jsx)(l.default,{hostData:e.report[n],host:n,onOpenDetailsDrawer:u})},n)}))]})})}))}));