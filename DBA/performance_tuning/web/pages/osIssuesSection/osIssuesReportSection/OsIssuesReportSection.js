define(["require","exports","preact/jsx-runtime","preact/compat","preact/hooks","preact","../../../components/badgeNotification/BadgeNotification","../../../components/table/Table","../../../hooks/useColorSchema","./osIssuesReportCollapsibles/OsIssuesReportSummaryCollapsible","./osIssuesReportCollapsibles/osIssuesReportCollapsible/OsIssuesReportCollapsible","../../../utils/common","../../../components/detailsDrawer/DetailsDrawer","ojs/ojaccordion","ojs/ojconveyorbelt"],(function(require,e,s,a,o,t,l,n,i,r,d,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=(0,a.memo)((({data:e})=>{var a;const{getColor:p}=(0,i.default)(),[b,j]=(0,o.useState)({}),[m,g]=(0,o.useState)({}),[C,h]=(0,o.useState)({open:!1,data:void 0}),x=(0,o.useCallback)(((e,s)=>{j((a=>Object.assign(Object.assign({},a),{[s]:e.detail.value})))}),[j]),f=(0,o.useCallback)(((s,a)=>{const o=e.find((e=>{var a;return null===(a=e.finding)||void 0===a?void 0:a.includes(s)}));o&&(j((e=>!0===b[o.id]?e:Object.assign(Object.assign({},e),{[o.id]:!0}))),g((e=>e[o.id]===a?e:Object.assign(Object.assign({},e),{[o.id]:a}))),setTimeout((()=>{(0,c.scrollToElement)(o.id)}),600))}),[j]),O=(0,o.useCallback)(((e,s)=>{g((a=>a[e]===s?a:Object.assign(Object.assign({},a),{[e]:s})))}),[g]),v=(0,o.useCallback)((e=>{h({data:e,open:!0})}),[h]),S=(0,o.useCallback)((()=>{h({open:!1})}),[h]);return 0===e.length?(0,s.jsx)(l.default,{text:"Report it's unavailable",status:"info"}):(0,s.jsxs)("section",{class:"osIssuesReportSection",children:[(0,s.jsx)("oj-accordion",{multiple:!0,id:"reportOsIssuesContainer",children:e.map((e=>"summary"===e.shortDescription.toLowerCase()?(0,s.jsx)(r.default,{summaryData:e,expanded:null==b?void 0:b[e.id],onExpandedChangeHandler:x,expandAndScrollIntoCollapsible:f},e.id):(0,s.jsx)(d.default,{reportData:e,getColor:p,onExpandedChangeHandler:x,expanded:null==b?void 0:b[e.id],hostSelected:null==m?void 0:m[e.id],onChangeHostSelectedHandler:O,onOpenDetailsDrawer:v},e.id)))}),(0,s.jsx)(u.default,{title:"Problematic Snapshots details",opened:C.open,onCloseHandler:S,children:(0,s.jsx)(t.Fragment,{children:null===(a=C.data)||void 0===a?void 0:a.map((e=>(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)("h4",{class:"oj-typography-subheading-xs",children:e.description}),(0,s.jsx)(n.default,{dataArray:e.table.records,columns:e.table.columns,"aria-label":`Table description: ${e.description}`,class:"OsIssuesReportSection__drawer-table",scrollPolicy:"loadMoreOnScroll"})]},e.id)))})})]})}))}));