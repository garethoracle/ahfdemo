var __awaiter=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,l){function i(e){try{a(o.next(e))}catch(e){l(e)}}function s(e){try{a(o.throw(e))}catch(e){l(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}a((o=o.apply(e,t||[])).next())}))};define(["require","exports","ojs/ojconverter-datetime"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nodeTypesToString=e.createClipBoardTable=e.dateTimeConverter=e.formatTimestampString=e.loadModule=e.scrollToElement=void 0;e.scrollToElement=e=>{try{const t=document.getElementById(e);if(!t)throw Error("No element with this id was found");t.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})}catch(e){console.error(e)}};e.loadModule=e=>__awaiter(void 0,void 0,void 0,(function*(){const t=e.slice(-3),n=".ts"===t||".js"===t?e.slice(0,-3):e;return yield new Promise(((e,t)=>{require([n],e,t)}))}));e.formatTimestampString=e=>{let t=e;return-1!==e.indexOf(".")&&(t=e.slice(0,-4)),t},e.dateTimeConverter=new t.IntlDateTimeConverter({dateFormat:"long",hourCycle:"h23",hour12:!1,timeFormat:"long",formatType:"datetime",isoStrFormat:"zulu",timeZone:"zulu",pattern:"yyyy-MM-dd HH:mm:ss.SSS"});e.createClipBoardTable=(e,t,r={wrapColumns:!0,maxLength:35,delimeterColumn:"|",delimeterRow:"="})=>{var l,i,s,a,c;const[d,u]=o(e,t,r.maxLength,r.wrapColumns);let m=[];const p=Object.values(u).reduce(((e,t)=>e+t),0);m.push(null!==(l=r.delimeterRow)&&void 0!==l?l:"=".repeat(p+1*(t.length-1)));let h="";t.forEach(((e,n)=>{const o=e.field.includes("attr.")?e.field.split(".")[1]:e.field;h=h.concat(e.headerText.padEnd(n<t.length-1&&!1===r.wrapColumns?u[o]:0).concat(n<t.length-1?r.delimeterColumn:""))})),m.push(h),m.push(null!==(i=r.delimeterRow)&&void 0!==i?i:"=".repeat(p+1*(t.length-1)));const f=n(d,t,r,u);return m=[...m,...f],m.push(null!==(s=r.delimeterRow)&&void 0!==s?s:"=".repeat(p+1*(t.length-1)).concat(null!==(a=r.delimeterColumn)&&void 0!==a?a:"|")),m.join(`${null!==(c=r.delimeterColumn)&&void 0!==c?c:"|"}\n`)};const n=(e,t,n,o)=>{var r;const l=e=>{for(const t of Object.values(e))if(t)return!1;return!0},i=[];for(const s of e){const e={};let a=0;do{const l=[];for(const[r,i]of t.entries()){const c=i.field.includes("attr.")?i.field.split(".")[1]:i.field;e[c]=s[c].length>a?s[c][a]:"";const d=e[c];t.length-1===r&&!1===n.wrapColumns?l.push(d):l.push(d.padEnd(o[c]))}a++,i.push(l.join(null!==(r=n.delimeterColumn)&&void 0!==r?r:"|"))}while(!l(e))}return i},o=(e,t,n=60,o=!0)=>{const r={};for(const e of t){r[e.field.includes("attr.")?e.field.split(".")[1]:e.field]=e.headerText.length}const l=[];for(const i of e){const e={};for(const l of t){const t=l.field.includes("attr.")?l.field.split(".")[1]:l.field,s=String(i.attr[t]).trim().split(" ");let a="",c=[];if(1===s.length)c.push(s[0]),r[t]=Math.max(s[0].length,r[t]);else{for(const e of s)!o||a.length+e.length+1<=n?a+=e+" ":(r[t]=Math.max(a.length,r[t]),c.push(a),a=e+" ");a&&(c.push(a),r[t]=Math.max(a.length,r[t]))}e[t]=c}l.push(e)}return[l,r]};e.nodeTypesToString=(t,n=" ")=>Array.isArray(t)?t.map((t=>(0,e.nodeTypesToString)(t))).join(n):"string"==typeof t.content?t.content:"paragraph"===t.type?t.content.map((t=>(0,e.nodeTypesToString)(t))).join(" "):"list"===t.type?t.content.map(((t,n)=>`\t${n+1}. ${t.map((t=>(0,e.nodeTypesToString)(t))).join(" ")}`)).join("\n"):"paragraphs"===t.type?t.content.map((t=>(0,e.nodeTypesToString)(t))).join("\n"):""}));