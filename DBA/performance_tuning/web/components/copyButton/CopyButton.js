var __awaiter=this&&this.__awaiter||function(t,e,o,r){return new(o||(o=Promise))((function(n,i){function c(t){try{s(r.next(t))}catch(t){i(t)}}function a(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(c,a)}s((r=r.apply(t,e||[])).next())}))},__rest=this&&this.__rest||function(t,e){var o={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(o[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(o[r[n]]=t[r[n]])}return o};define(["require","exports","preact/jsx-runtime","preact/hooks","../../utils/common"],(function(require,t,e,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=t=>{var{textToCopy:n,classIcon:i,getText:c,tableFormat:a}=t,s=__rest(t,["textToCopy","classIcon","getText","tableFormat"]);const[l,u]=(0,o.useState)(!1),f=(0,o.useRef)();return(0,o.useEffect)((()=>()=>{clearTimeout(f.current)}),[]),(0,e.jsx)("oj-button",Object.assign({},s,{chroming:"borderless",onojAction:()=>__awaiter(void 0,void 0,void 0,(function*(){let t=n;if(c&&(t=c()),t){if("string"==typeof t)yield navigator.clipboard.writeText(t);else{const e=(0,r.createClipBoardTable)(null==t?void 0:t.records,null==t?void 0:t.columns,a);yield navigator.clipboard.writeText(e)}u(!0),f.current&&clearTimeout(f.current),f.current=setTimeout((()=>{u(!1)}),1e3)}})),disabled:l,display:"icons",children:(0,e.jsx)("span",{slot:"startIcon",class:`${l?"oj-ux-ico-check":"oj-ux-ico-copy"} ${null!=i?i:""}`})}))};n.defaultProps={"aria-label":"Copy button"},t.default=n}));