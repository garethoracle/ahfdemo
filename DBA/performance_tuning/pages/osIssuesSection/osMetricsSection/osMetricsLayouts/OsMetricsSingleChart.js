define(["require","exports","preact/jsx-runtime","preact","preact/hooks","preact/compat","../../../../components/plotlyContainer/PlotlyContainer","../../../../components/badgeNotification/BadgeNotification","ojs/ojarraydataprovider","./OsMetricsNodeSelectSingleRenderer"],(function(require,e,t,o,l,n,i,a,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=(0,n.memo)((({sectionData:e,filters:n,setSubsectionFilter:s,onRelayoutPlotHandler:u,noClusterWideFilterFunction:c,clusterWideFilterFunction:v})=>{var p,f,x,j,m,y,b;const h=(0,l.useMemo)((()=>{var t;return new d(null!==(t=null==e?void 0:e.nodes)&&void 0!==t?t:[],{keyAttributes:"value"})}),[e]),g=t=>{const o=t.detail.value;o&&s(e.sectionId,"nodeSelected",o)};if("singleChart"!==e.context.layout)throw Error("Wrong layout type");if(!e.clusterwide&&e.nodes){const l=null!==(x=null===(f=null===(p=null==n?void 0:n.sectionFilters)||void 0===p?void 0:p[e.sectionId])||void 0===f?void 0:f.nodeSelected)&&void 0!==x?x:e.nodes[0].value,d=null===(j=e.context.plots)||void 0===j?void 0:j.find((e=>e.node===l));return(0,t.jsxs)(o.Fragment,{children:[(0,t.jsx)("div",{class:"osMetrics__filters",children:(0,t.jsx)("oj-select-single",{labelHint:"Select Node",labelEdge:"inside",class:"oj-form-control-max-width-md osMetrics__select-node",data:h,value:l,onvalueChanged:g,children:(0,t.jsx)("template",{slot:"itemTemplate",render:r.default})})}),(null===(m=null==e?void 0:e.context)||void 0===m?void 0:m.plots)&&d&&d.available?(0,t.jsx)(i.default,{plotPath:d.report,autosize:!0,onRelayout:u,filterFunction:c}):(0,t.jsx)(a.default,{text:"No Plot Available",status:"info"})]})}return(null===(b=null===(y=null==e?void 0:e.context)||void 0===y?void 0:y.plot)||void 0===b?void 0:b.available)?(0,t.jsx)(i.default,{plotPath:null==e?void 0:e.context.plot.report,onRelayout:u,filterFunction:v}):(0,t.jsx)(a.default,{text:"No Plot Available",status:"info"})}))}));